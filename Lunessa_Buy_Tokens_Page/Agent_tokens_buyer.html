<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Token Purchase - Professional</title>
    <link rel="stylesheet" href="main.css">
    <!-- JavaScript Modules -->
    <script src="utils/config.js"></script>
    <script src="utils/calculation.js"></script>
    <script src="utils/base_discount.js"></script>
    <script src="utils/offers.js"></script>
    <script src="utils/ui.js"></script>
    <script src="utils/main.js"></script>
    <script src="utils/get_offers_from_admin.js"></script>
    <script src="utils/verify_coupons_from_customer.js"></script>
    <script src="utils/calculate_coupons.js"></script>
    <script src="utils/get_AI_model_pricing_data_from_admin.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>AI TOKEN MARKETPLACE</h1>
        </div>

        <div class="info-cards">
            <div class="agent-card">
                <div class="card-header">
                    <div class="icon">ðŸ¤–</div>
                    <h3>Agent Information</h3>
                </div>
                <div class="card-content">
                    <p class="agent-name">MZK- AI</p>
                    <span class="status-badge">Active</span>
                </div>
            </div>
            <div class="token-card">
                <div class="card-header">
                    <div class="icon">âš¡</div>
                    <h3>Available Tokens</h3>
                </div>
                <div class="card-content">
                    <p class="token-count">5,000</p>
                    <span class="availability">Ready for Purchase</span>
                </div>
            </div>
        </div>

        <div class="purchase-section">
            <div class="section-header">
                <h2>Configure Your Purchase</h2>
                <p>Select your preferred AI model and specify the number of tokens needed</p>
            </div>

            <div class="input-container">
                <div class="input-group model-group">
                    <label for="model">AI Model Selection</label>
                    <div class="select-wrapper">
                        <select id="model" class="model-select">
                            <option value="">Choose AI Model</option>
                            <option value="gpt-4" data-rate="0.03">GPT-4 Turbo - â‚¹0.03/token</option>
                            <option value="gpt-3.5" data-rate="0.002">GPT-3.5 Turbo - â‚¹0.002/token</option>
                            <option value="claude-3" data-rate="0.025">Claude-3 Sonnet - â‚¹0.025/token</option>
                            <option value="gemini-pro" data-rate="0.015">Gemini Pro - â‚¹0.015/token</option>
                            <option value="llama-2" data-rate="0.001">Llama 2 70B - â‚¹0.001/token</option>
                        </select>
                        <div class="select-arrow">
                            <svg width="12" height="8" viewBox="0 0 12 8" fill="none">
                                <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="input-group token-group">
                    <label for="tokens">Number of Tokens</label>
                    <input type="number" id="tokens" class="token-input" placeholder="Enter token quantity" min="1">
                </div>

                <button class="calculate-btn" id="calculateBtn">
                    <span class="btn-text">Calculate Price</span>
                    <svg class="btn-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M8 1L15 8L8 15M15 8H1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="pricing-breakdown" id="pricingBreakdown">
            <div class="breakdown-header">
                <h2>Pricing Breakdown</h2>
                <div class="model-badge" id="selectedModelBadge"></div>
            </div>
            
            <div class="pricing-details">
                <div class="detail-row">
                    <span class="detail-label">Token Quantity</span>
                    <span class="detail-value" id="billTokens">-</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Rate per Token</span>
                    <span class="detail-value" id="tokenRate">â‚¹0.00</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Subtotal</span>
                    <span class="detail-value" id="billPrice">â‚¹0.00</span>
                </div>
                <div class="detail-row discount-row" id="discountRow" style="display: none;">
                    <span class="detail-label">
                        <span id="discountLabel">Discount Applied</span>
                        <span class="discount-source" id="discountSource"></span>
                    </span>
                    <span class="detail-value discount" id="discountAmount">-â‚¹0.00</span>
                </div>
                <div class="divider"></div>
                <div class="detail-row total-row">
                    <span class="detail-label">Total Amount</span>
                    <span class="detail-value total" id="totalPrice">â‚¹0.00</span>
                </div>
            </div>
            
            <!-- Coupon Code Section -->
            <div class="coupon-container">
                <div class="coupon-toggle" id="couponToggle">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" class="coupon-toggle-icon">
                        <path d="M9 12L11 14L15 10M12 3C16.97 3 21 6.043 21 9.5C21 10.5 20.5 11.5 19.5 12C20.5 12.5 21 13.5 21 14.5C21 17.957 16.97 21 12 21C7.03 21 3 17.957 3 14.5C3 13.5 3.5 12.5 4.5 12C3.5 11.5 3 10.5 3 9.5C3 6.043 7.03 3 12 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Have a coupon code?</span>
                </div>
                
                <div class="coupon-input-section" id="couponInputSection" style="display: none;">
                    <div class="coupon-input-wrapper">
                        <input type="text" id="couponInput" class="coupon-input" placeholder="Enter a coupon code" maxlength="20">
                        <button id="applyCouponBtn" class="apply-coupon-btn">
                            Apply
                        </button>
                    </div>
                    <div class="coupon-feedback" id="couponFeedback"></div>
                </div>
                
                <div class="applied-coupon-section" id="appliedCouponSection" style="display: none;">
                    <div class="coupon-success-message">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M20 6L9 17L4 12" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Coupon code applied</span>
                    </div>
                    <div class="applied-coupon-badge" id="appliedCouponBadge">
                        <span id="appliedCouponCode"></span>
                        <button class="remove-coupon-btn">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none">
                                <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div style="display: flex; justify-content: flex-end;">
                <button class="purchase-btn" id="purchaseBtn">
                    <span class="btn-text">Complete Purchase</span>
                    <svg class="btn-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M12 5L6.5 10.5L4 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg> 
                </button>
            </div>
        </div>

        <div class="offers-section">
            <div class="section-header">
                <h2>Exclusive Offers</h2>
                <p>Apply promotional codes to save on your token purchase</p>
            </div>
            
            <div class="offers-grid" id="offersGrid">
                <!-- <div class="offer-card premium" data-discount-type="percentage" data-discount-value="25" data-min-amount="1500">
                    <div class="offer-badge">Premium</div>
                    <h3>New Year Special</h3>
                    <p>Get 25% off on your first premium purchase. Valid for orders above â‚¹1,500.</p>
                    <div class="offer-details">
                        <span class="offer-code">NEWYEAR25</span>
                        <button class="apply-offer-btn">Apply Offer</button>
                    </div>
                </div>

                <div class="offer-card popular" data-discount-type="flat" data-discount-value="500" data-min-amount="2000">
                    <div class="offer-badge">Popular</div>
                    <h3>Bulk Purchase Discount</h3>
                    <p>Flat â‚¹500 off on bulk orders. Perfect for enterprise customers.</p>
                    <div class="offer-details">
                        <span class="offer-code">BULK500</span>
                        <button class="apply-offer-btn">Apply Offer</button>
                    </div>
                </div>

                <div class="offer-card standard" data-discount-type="percentage" data-discount-value="15" data-min-amount="500">
                    <div class="offer-badge">First Time</div>
                    <h3>Welcome Bonus</h3>
                    <p>15% discount for new customers. Start your AI journey with savings.</p>
                    <div class="offer-details">
                        <span class="offer-code">WELCOME15</span>
                        <button class="apply-offer-btn">Apply Offer</button>
                    </div>
                </div>

                <div class="offer-card weekend" data-discount-type="flat" data-discount-value="200" data-min-amount="800">
                    <div class="offer-badge">Limited</div>
                    <h3>Weekend Flash Sale</h3>
                    <p>â‚¹200 off on weekend purchases. Valid until Sunday midnight.</p>
                    <div class="offer-details">
                        <span class="offer-code">WEEKEND200</span>
                        <button class="apply-offer-btn">Apply Offer</button>
                    </div>
                </div> -->
            </div>
        </div>

        <footer class="page-footer">
            <p>Â© 2025 AI Token Marketplace. All rights reserved. | Secure payments powered by advanced encryption</p>
        </footer>
    </div>
</body>
</html>